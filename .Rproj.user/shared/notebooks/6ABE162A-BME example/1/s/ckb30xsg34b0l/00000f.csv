"0","# Define hazard ratios "
"0","HRs <- cbind("
"0","  hrS = c(1, 0.7, 0.7, 0.7, 0.7, 0.7, 0.7),"
"0","  hrSc = c(1, 0.7, 0.8, 0.9, 1.0, 1.1, 1.2)"
"0",")"
"0",""
"0","# results matrix"
"0","results <- matrix(NA, nrow = nrow(HRs), ncol = 5)"
"0","colnames(results) <- c(""Power F"", ""Power S"", ""Overall Power"", ""Probability of Expansion"", ""Average Sample Size"")"
"0",""
"0","# Loop over scenarios"
"0","for (i in 1:nrow(HRs)) {"
"0","  res <- getOC_BME("
"0","    seed = 2025,"
"0","    nsim = 50,"
"0","    nF = 600,"
"0","    nS_additional = 100,"
"0","    prop_S = 0.5,"
"0","    duration = 20,"
"0","    duration_additional = 3,"
"0","    targetEvents.Sc = 105,"
"0","    targetEvents = c(210, 280, 420),"
"0","    HR.Sc.threshold = 0.9,"
"0","    hazard_S  = log(2)/c(9, 9 / HRs[i, ""hrS""]),"
"0","    hazard_Sc = log(2)/c(9, 9 / HRs[i, ""hrSc""]),"
"0","    dropout_S = c(0, 0),"
"0","    dropout_Sc = c(0, 0),"
"0","    w = 1,"
"0","    ratio = 1,"
"0","    alpha1 = 0.0125,"
"0","    alpha2 = 0.0125"
"0","  )"
"0",""
"0","    # Extract statistics"
"0","    power.Fs <- res$F.reject"
"0","    power.Ss <- res$S.reject"
"0","    expansion <- res$expand"
"0","    "
"0","    # Store results"
"0","    results[i, ] <- c("
"0","    mean(power.Fs),"
"0","    mean(power.Ss),"
"0","    mean(power.Fs | power.Ss),"
"0","    mean(expansion),"
"0","    600 + 100 * mean(expansion)"
"0","  )"
"0","}"
"0",""
"0","results_df <- as.data.frame(cbind(HRs, results))"
"0","print(results_df)"
